<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Untitled</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/custom-buttons.css">
    <link rel="stylesheet" href="assets/css/html5-video.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>
<script>
AFRAME.registerComponent('vidhandler', {
    schema: {
      video: {type: 'selector'}
    },
    init: function() {
        this.video = this.data.video
        this.video.pause()
    },
    tick: function() {
        if (this.el.object3D.visible == true) {
            if (!this.toggle) {
                this.toggle = true;
                this.video.play()
            }
        } else {
            this.toggle = false;
            this.video.pause()
        }
    }
});
</script>

<a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;'>
      <a-assets>
        <video id="vid" loop="true" crossorigin="anonymous" 
               src='assets/video1.mp4'></video>
        <video id="videonew" loop="true" crossorigin="anonymous" 
               src='assets/video2.mp4'></video>
               <video id="coffee" loop="true" crossorigin="anonymous" 
               src='assets/video3.mp4'></video>

      </a-assets>
      <a-marker type='pattern' url='assets/pattern-IOT_AR_1.patt' vidhandler="video: #vid">
        <a-video src="#vid" width="4" height="2" rotation="270 0 0"></a-video>
      </a-marker>
  
      <a-marker type='pattern' url='assets/pattern-IOT_AR_2.patt' vidhandler="video: #videonew">
        <a-video src="#videonew" width="4" height="2" rotation="270 0 0"></a-video>
      </a-marker>

      <a-marker type='pattern' url='assets/coffee_v2.patt' vidhandler="video: #coffee">
        <a-video src="#coffee" width="4" height="2" rotation="270 0 0"></a-video>
      </a-marker>

    
      <a-entity camera>
       
      </a-entity>

</a-scene>

</body>

<script src="assets/bootstrap/js/bootstrap.min.js"></script>